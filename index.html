<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <title>Giphy API</title>
</head>

<body>
    <div id="buttons"></div>
          
            

    
  <form id="artist-form">

        <label for="artist-input">Add an Artist</label>
        <input type="text" id="artist-input"><br>
        <input id="select-artist" type="submit" value="GO!">



      </form>
    
      <div id="artist-div"></div>


  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script type="text/javascript">



    var artists = ["musician", "painter", "directors", "writers"];

    function diplayArtistInfo() {

        var person = $(this).attr("data-person");

        var queryURL = "https://api.giphy.com/v1/gifs/search?" + "api_key=oWR0i53CGaKdmofnw3bWHMXCauhkGIk0" + "q=" + person + "&limit=10&offset=0&lang=en";


    $.ajax({
      url: queryURL,
      method: "GET"
    }).then(function(response) {
      console.log(response);

        var results = response.data;        



        // var rating = "Rated: " + response.Rating;
        // var ratingDisplay = gifDiv.html("<h3>" + Rating + "</h3>");
        // $("#artist-div").append(ratingDisplay);

        for (var i = 0; i < results.length; i++) {
            var gifDiv = $("<div>");                
            var p = $("<p>");
                p.addClass("rating");
                    p.text("Rating: " + results[i].rating);

            var gifImage = $("<img>");

            gifImage.attr("src", results[i].images.fixed_height.url);
            
            gifDiv.append(p);

            gifDiv.append(gifImage);

            $("#artist-div").prepend(gifDiv);

        }

        function renderButtons() {

            $("#buttons-view").empty();

            for (var i = 0; i < artists.length; i++) {

                var a = $("<button>");

                a.addClass("artist-btn");

                a.attr("data-name", artists[i]);

                a.text(artists[i]);

                $("buttons-view").append(a);
            }
        }

        $("#select-artist").on("click", function(event) {
            event.preventDefault();

            var artistAdd = $("#artist-div").val().trim();

            artists.push(artistAdd);

            renderButtons();
        });

        $(document).on("click", ".artist-btn", displayArtistInfo)

            renderButtons();

    });
};

    
    
    
  </script>

</body>

</html>
